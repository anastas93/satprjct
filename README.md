# Минимальный модуль передачи и приёма

В форке оставлены только базовые компоненты:

- `MessageBuffer` — простой буфер сообщений с ограничением по размеру.
- `TxModule` — передача данных через интерфейс `IRadio`.
- `RxModule` — приём данных и передача их в пользовательский колбэк.
- `IRadio` описан в `radio_interface.h`.
- `RadioSX1262` — конкретная реализация интерфейса на базе модуля SX1262.

Все сторонние библиотеки расположены в каталоге `libs/`.

## API
### MessageBuffer
- `MessageBuffer(size_t capacity)` — создать буфер с максимальным количеством сообщений.
- `uint32_t enqueue(const uint8_t* data, size_t len)` — добавляет сообщение в буфер, при переполнении возвращает `0`.
- `bool hasPending() const` — проверяет наличие сообщений.
- `bool pop(uint32_t& id, std::vector<uint8_t>& out)` — извлекает сообщение и его идентификатор.

### TxModule
- `TxModule(IRadio& radio, MessageBuffer& buf)` — инициализация модуля.
- `uint32_t queue(const uint8_t* data, size_t len)` — поместить сообщение в очередь.
- `void loop()` — отправить первое сообщение, если оно есть.

### RxModule
- `void setCallback(RxModule::Callback cb)` — установить обработчик входящих данных.
- `void onReceive(const uint8_t* data, size_t len)` — передать принятый пакет обработчику.

### RadioSX1262
- `bool begin()` — инициализация радиомодуля с преднастройками.
- `void send(const uint8_t* data, size_t len)` — отправка пакета.
- `void setReceiveCallback(IRadio::RxCallback cb)` — регистрация обработчика приёма.

## Что реализовано
- Базовая отправка и приём сообщений.
- Очередь сообщений без приоритета.
- Реализована настройка радиомодуля SX1262 и методы отправки/приёма.

## Что осталось сделать
- Расширить управление радиомодулем (мощность, банки частот, маяк и т.д.).
- Добавить подтверждения, шифрование и кодирование ошибок.
- Вернуть расширенные возможности исходного проекта по мере необходимости.
