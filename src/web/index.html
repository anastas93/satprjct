<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Sat Project Web</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="bg"><div class="grid"></div><div class="aurora"></div><div class="stars"></div></div>
  <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π -->
  <header class="site-header glass">
    <div class="brand">SAT-COMMUNICATION<span class="tag">web</span></div>
    <nav class="nav" id="siteNav">
      <a href="#" data-tab="chat">Chat<span class="nav-badge" aria-label="–ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è: 0" aria-live="off" hidden>0</span></a>
      <a href="#" data-tab="channels">Channels/Ping</a>
      <a href="#" data-tab="pointing">Antenna helper</a>
      <a href="#" data-tab="settings">Settings</a>
      <a href="#" data-tab="security">Security</a>
      <a href="#" data-tab="debug">Debug</a>
    </nav>
    <div id="navOverlay" class="nav-overlay" hidden></div>
    <div class="header-actions">
      <button id="themeToggle" class="icon-btn" aria-label="–¢–µ–º–∞">üåì</button>
      <button id="themeRedToggle" class="icon-btn" aria-label="–ö—Ä–∞—Å–Ω–∞—è —Ç–µ–º–∞">üî¥</button>
      <button id="menuToggle" class="icon-btn only-mobile" aria-label="–ú–µ–Ω—é">‚ò∞</button>
    </div>
  </header>
  <main>
    <!-- –í–∫–ª–∞–¥–∫–∞ —á–∞—Ç–∞ -->
    <section id="tab-chat" class="tab">
      <h2>Chat</h2>
      <div class="chat-area">
        <div id="chatLog" class="chat-log"></div>
        <button type="button" id="chatScrollBottom" class="chat-scroll-down" aria-label="–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –≤–Ω–∏–∑"><span>‚Üì</span></button>
        <div id="chatRxIndicator" class="chat-receiving-indicator" hidden>
          <span class="indicator-icon" aria-hidden="true"></span>
          <span class="indicator-text">–ü—Ä–∏—ë–º —Å–æ–æ–±—â–µ–Ω–∏—è‚Ä¶</span>
        </div>
      </div>
      <div id="chatIrqStatus" class="chat-irq-status" aria-live="polite" role="status">
        <div class="chat-irq-text">
          <span class="chat-irq-message">IRQ: —Å–æ–±—ã—Ç–∏–π –Ω–µ—Ç</span>
          <small class="chat-irq-meta" hidden>‚Äî</small>
        </div>
      </div>
      <div class="chat-input">
        <div class="send-row">
          <input id="chatInput" type="text" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ" maxlength="2000" />
          <button id="sendBtn" class="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
        <div class="chat-upload">
          <button type="button" id="chatImageBtn" class="icon-btn ghost" aria-label="–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" title="–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"><span>üì∑</span></button>
          <select id="chatImageProfile" class="chat-image-profile" aria-label="–ü—Ä–æ—Ñ–∏–ª—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π">
            <option value="S">S ‚Äî 320√ó240, —Å–µ—Ä—ã–π</option>
            <option value="M">M ‚Äî 320√ó240, —Å–µ—Ä—ã–π+</option>
            <option value="L">L ‚Äî 320√ó240, —Ü–≤–µ—Ç</option>
          </select>
        </div>
        <input id="chatImageInput" type="file" accept="image/jpeg,image/png,image/heic,image/heif" hidden multiple />
      </div>
      <div class="group-title"><span>–°–æ—Å—Ç–æ—è–Ω–∏–µ ACK</span><span class="line"></span></div>
      <div class="status-row">
        <button type="button" class="chip state state-chip" id="ackStateChip" data-state="unknown" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å ACK" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å ACK">
          <span class="label">ACK</span>
          <span id="ackStateText">‚Äî</span>
        </button>
        <button type="button" class="chip state state-chip" id="encStateChip" data-state="unknown" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ">
          <span class="label">ENC</span>
          <span id="encStateText">‚Äî</span>
        </button>
      </div>
      <details id="chatCommands" class="chat-commands">
        <summary>–ö–æ–º–∞–Ω–¥—ã</summary>
        <div class="cmd-buttons actions">
          <button class="btn" data-cmd="INFO">INFO</button>
          <button class="btn" data-cmd="STS">STS</button>
          <button class="btn" data-cmd="RSTS">RSTS</button>
          <button class="btn" data-cmd="BCN">BCN</button>
          <button class="btn" data-cmd="TESTRXM">TESTRXM</button>
        </div>
        <div class="cmd-inline">
          <label for="txlSize">TXL (–±–∞–π—Ç)</label>
          <input id="txlSize" type="number" min="1" max="8192" value="1024" />
          <button id="btnTxlSend" class="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç</button>
        </div>
      </details>
    </section>
    <!-- –í–∫–ª–∞–¥–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ –∏ –ø–∏–Ω–≥–∞ -->
    <section id="tab-channels" class="tab" hidden>
      <h2>Channels / Ping</h2>
      <div class="actions">
        <button id="btnPing" class="btn">Ping</button>
        <button id="btnSearch" class="btn">Search</button>
        <button id="btnRefresh" class="btn">–û–±–Ω–æ–≤–∏—Ç—å</button>
        <button id="btnExportCsv" class="btn">CSV</button>
      </div>
      <div id="channelRefStatus" class="channel-ref-status small" hidden></div>
      <div class="channel-layout">
        <div class="table-wrap pretty">
          <table id="channelsTable">
            <thead>
              <tr><th>CH</th><th>TX,MHz</th><th>RX,MHz</th><th>RSSI</th><th>SNR</th><th>ST</th><th>SCAN</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div id="channelInfoPanel" class="channel-info glass" hidden>
          <div class="channel-info-header">
            <div class="channel-info-title">–ö–∞–Ω–∞–ª <span id="channelInfoTitle">‚Äî</span></div>
            <button id="channelInfoClose" type="button" class="icon-btn ghost small" aria-label="–°–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é">‚úï</button>
          </div>
          <div id="channelInfoEmpty" class="channel-info-placeholder small muted">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª –≤ —Ç–∞–±–ª–∏—Ü–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏.</div>
          <div id="channelInfoStatus" class="channel-info-status small muted" hidden></div>
          <div id="channelInfoBody" class="channel-info-body" hidden>
            <div class="channel-info-block">
              <div class="channel-info-caption">–¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ</div>
              <dl class="channel-info-list">
                <div><dt>RX (MHz)</dt><dd id="channelInfoRxCurrent">‚Äî</dd></div>
                <div><dt>TX (MHz)</dt><dd id="channelInfoTxCurrent">‚Äî</dd></div>
                <div><dt>RSSI</dt><dd id="channelInfoRssi">‚Äî</dd></div>
                <div><dt>SNR</dt><dd id="channelInfoSnr">‚Äî</dd></div>
                <div><dt>–°—Ç–∞—Ç—É—Å</dt><dd id="channelInfoStatusCurrent">‚Äî</dd></div>
                <div><dt>SCAN</dt><dd id="channelInfoScan">‚Äî</dd></div>
              </dl>
            </div>
            <div class="channel-info-block">
              <div class="channel-info-caption">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</div>
              <dl class="channel-info-list">
                <div><dt>RX (MHz)</dt><dd id="channelInfoRxRef">‚Äî</dd></div>
                <div><dt>TX (MHz)</dt><dd id="channelInfoTxRef">‚Äî</dd></div>
                <div><dt>–ß–∞—Å—Ç–æ—Ç–∞ (MHz)</dt><dd id="channelInfoFrequency">‚Äî</dd></div>
                <div><dt>–°–∏—Å—Ç–µ–º–∞</dt><dd id="channelInfoSystem">‚Äî</dd></div>
                <div><dt>–ü–ª–∞–Ω</dt><dd id="channelInfoBand">‚Äî</dd></div>
                <div><dt>–ü–æ–ª–æ—Å–∞</dt><dd id="channelInfoBandwidth">‚Äî</dd></div>
                <div><dt>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</dt><dd id="channelInfoPurpose">‚Äî</dd></div>
                <div><dt>–°–ø—É—Ç–Ω–∏–∫</dt><dd id="channelInfoSatellite">‚Äî</dd></div>
                <div><dt>–ü–æ–∑–∏—Ü–∏—è</dt><dd id="channelInfoPosition">‚Äî</dd></div>
                <div><dt>–ú–æ–¥—É–ª—è—Ü–∏—è</dt><dd id="channelInfoModulation">‚Äî</dd></div>
                <div><dt>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</dt><dd id="channelInfoUsage">‚Äî</dd></div>
                <div><dt>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</dt><dd id="channelInfoComments">‚Äî</dd></div>
              </dl>
            </div>
            <div class="channel-info-actions">
              <button id="channelInfoSetCurrent" class="btn">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–º –∫–∞–Ω–∞–ª–æ–º</button>
            </div>
            <div class="channel-info-block channel-info-tests-block">
              <div class="channel-info-caption">–¢–µ—Å—Ç—ã</div>
              <div class="channel-info-tests">
                <button id="channelInfoStabilityTest" class="btn">Stability test</button>
                <button id="channelInfoCrTest" class="btn">CR test</button>
              </div>
              <div id="channelInfoTestsStatus" class="channel-info-status small muted" hidden></div>
              <div id="channelInfoStabilitySummary" class="channel-info-test-summary" hidden>
                <div class="channel-info-test-summary-main">
                  <div><span>–£—Å–ø–µ—à–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤</span><strong id="channelInfoStabilitySuccess">‚Äî</strong></div>
                  <div><span>–£—Å–ø–µ—à–Ω–æ—Å—Ç—å</span><strong id="channelInfoStabilityPercent">‚Äî</strong></div>
                  <div><span>–°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞</span><strong id="channelInfoStabilityLatencyAvg">‚Äî</strong></div>
                  <div><span>–î–∂–∏—Ç—Ç–µ—Ä (œÉ)</span><strong id="channelInfoStabilityLatencyJitter">‚Äî</strong></div>
                </div>
                <div class="channel-info-test-legend small">
                  <span data-type="rssi">RSSI</span>
                  <span data-type="snr">SNR</span>
                </div>
              </div>
              <div id="channelInfoStabilityIssues" class="channel-info-test-issues small muted" hidden></div>
              <div id="channelInfoStabilityCards" class="channel-info-test-cards" hidden>
                <div class="channel-info-test-card">
                  <div class="label">RSSI</div>
                  <div class="value" id="channelInfoStabilityRssiRange">‚Äî</div>
                  <div class="meta" id="channelInfoStabilityRssiMeta">‚Äî</div>
                </div>
                <div class="channel-info-test-card">
                  <div class="label">SNR</div>
                  <div class="value" id="channelInfoStabilitySnrRange">‚Äî</div>
                  <div class="meta" id="channelInfoStabilitySnrMeta">‚Äî</div>
                </div>
                <div class="channel-info-test-card">
                  <div class="label">–ó–∞–¥–µ—Ä–∂–∫–∞</div>
                  <div class="value" id="channelInfoStabilityLatencyRange">‚Äî</div>
                  <div class="meta" id="channelInfoStabilityLatencyMeta">‚Äî</div>
                </div>
              </div>
              <div id="channelInfoStabilityResult" class="channel-info-test-chart" hidden>
                <canvas id="channelInfoStabilityChart" width="360" height="200"></canvas>
                <div id="channelInfoStabilityTooltip" class="channel-info-test-tooltip" hidden></div>
              </div>
              <div id="channelInfoStabilityHistory" class="channel-info-test-history" hidden>
                <div class="channel-info-test-history-header">
                  <div class="channel-info-test-history-title">–ò—Å—Ç–æ—Ä–∏—è Stability</div>
                  <div class="channel-info-test-history-actions">
                    <button id="channelInfoStabilityExportCsv" class="btn ghost small">–≠–∫—Å–ø–æ—Ä—Ç CSV</button>
                    <button id="channelInfoStabilityExportJson" class="btn ghost small">–≠–∫—Å–ø–æ—Ä—Ç JSON</button>
                    <button id="channelInfoStabilityHistoryClear" class="btn ghost small">–û—á–∏—Å—Ç–∏—Ç—å</button>
                  </div>
                </div>
                <div id="channelInfoStabilityHistoryEmpty" class="small muted">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞ ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç–µ Stability test.</div>
                <ul id="channelInfoStabilityHistoryList" class="channel-info-test-history-list"></ul>
              </div>
              <div id="channelInfoCrResult" class="channel-info-cr" hidden>
                <table class="channel-info-cr-table">
                  <thead>
                    <tr><th>CR</th><th>Ping</th><th>RSSI</th><th>SNR</th></tr>
                  </thead>
                  <tbody id="channelInfoCrTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- –í–∫–ª–∞–¥–∫–∞ –Ω–∞–≤–µ–¥–µ–Ω–∏—è –∞–Ω—Ç–µ–Ω–Ω—ã -->
    <section id="tab-pointing" class="tab" hidden>
      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–∫–ª–∞–¥–∫–∏ —Å–∫—Ä—ã—Ç –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –º–∞–∫–µ—Ç–∞ -->
      <div id="pointingSummary" class="pointing-summary glass">
        <div class="pointing-summary-chip" id="pointingTleBadge" data-state="warn">
          <span class="pointing-summary-icon">üõ∞Ô∏è</span>
          <span id="pointingTleText">TLE ‚Ä¢ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö</span>
        </div>
        <div class="pointing-summary-chip" id="pointingLocationBadge" data-state="idle">
          <span class="pointing-summary-icon">üìç</span>
          <span id="pointingLocationText">–ü–æ–∑–∏—Ü–∏—è ‚Ä¢ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö</span>
        </div>
        <div class="pointing-summary-chip" id="pointingSatBadge" data-state="idle">
          <span class="pointing-summary-icon">üó∫Ô∏è</span>
          <span id="pointingSatText">–°–ø—É—Ç–Ω–∏–∫–∏ ‚Ä¢ ‚Äî</span>
        </div>
      </div>
      <div class="pointing-grid">
        <article class="pointing-card glass">
          <h3>–ê–∫—Ç–∏–≤–Ω—ã–π —Å–ø—É—Ç–Ω–∏–∫</h3>
          <label class="pointing-select">
            <span>–í—ã–±–æ—Ä —Å–ø—É—Ç–Ω–∏–∫–∞</span>
            <select id="pointingSatSelect"></select>
          </label>
          <div class="pointing-sat-details" id="pointingSatDetails" hidden>
            <div>–î–æ–ª–≥–æ—Ç–∞ –ø–æ–¥—Å–ø—É—Ç–Ω–∏–∫–∞: <strong id="pointingSubLon">‚Äî</strong></div>
            <div>–®–∏—Ä–æ—Ç–∞ –ø–æ–¥—Å–ø—É—Ç–Ω–∏–∫–∞: <strong id="pointingSubLat">‚Äî</strong></div>
            <div>–í—ã—Å–æ—Ç–∞ –æ—Ä–±–∏—Ç—ã: <strong id="pointingSatAltitude">‚Äî</strong></div>
            <div>–î–∏—Å—Ç–∞–Ω—Ü–∏—è: <strong id="pointingRange">‚Äî</strong></div>
          </div>
        </article>
        <article class="pointing-card glass">
          <h3>–ù–∞–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ —Å–ø—É—Ç–Ω–∏–∫</h3>
          <div class="pointing-target-grid">
            <div class="pointing-target-metric"><span class="label">–ê–∑–∏–º—É—Ç</span><strong id="pointingTargetAz">‚Äî</strong></div>
            <div class="pointing-target-metric"><span class="label">–í–æ–∑–≤—ã—à–µ–Ω–∏–µ</span><strong id="pointingTargetEl">‚Äî</strong></div>
          </div>
          <div class="pointing-compass" id="pointingCompass">
            <div class="pointing-compass-dial">
              <div class="pointing-compass-radar" id="pointingCompassRadar"></div>
              <div class="pointing-compass-axes" aria-hidden="true"></div>
              <div class="pointing-compass-rose" aria-hidden="true">
                <span data-dir="south">S</span>
                <span data-dir="east">E</span>
                <span data-dir="north">N</span>
                <span data-dir="west">W</span>
              </div>
              <div class="pointing-compass-center"></div>
              <div class="pointing-compass-graduations"></div>
            </div>
            <div class="pointing-compass-legend" id="pointingCompassLegend" aria-hidden="true">
              <span data-quadrant="north">–°–µ–≤–µ—Ä ‚Ä¢ N</span>
              <span data-quadrant="east">–í–æ—Å—Ç–æ–∫ ‚Ä¢ E</span>
              <span data-quadrant="south">–Æ–≥ ‚Ä¢ S</span>
              <span data-quadrant="west">–ó–∞–ø–∞–¥ ‚Ä¢ W</span>
            </div>
          </div>
          <label class="pointing-min-el pointing-min-el-footer">
            <span>–ú–∏–Ω. –≤–æ–∑–≤—ã—à–µ–Ω–∏–µ</span>
            <input id="pointingMinElevation" type="range" min="0" max="30" step="1" value="10" />
            <span id="pointingMinElValue" class="pointing-min-el-value">10¬∞</span>
          </label>
        </article>
        <article class="pointing-card glass pointing-card-wide">
          <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ø—É—Ç–Ω–∏–∫–∏</h3>
          <div class="pointing-horizon" id="pointingHorizon">
            <div class="pointing-horizon-azimuths" aria-hidden="true">
              <span data-az="0">0¬∞ ‚Ä¢ N</span>
              <span data-az="90">90¬∞ ‚Ä¢ E</span>
              <span data-az="180">180¬∞ ‚Ä¢ S</span>
              <span data-az="270">270¬∞ ‚Ä¢ W</span>
            </div>
            <div class="pointing-horizon-track" id="pointingHorizonTrack"></div>
            <div class="pointing-horizon-empty small muted" id="pointingHorizonEmpty">–£–∫–∞–∂–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–ø—É—Ç–Ω–∏–∫–∏.</div>
          </div>
          <p class="small muted" id="pointingSatSummary">–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–≤–∞–¥—Ä–∞—Ç–∞ MGRS –ø–æ—è–≤–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –≤–∏–¥–∏–º—ã—Ö —Å–ø—É—Ç–Ω–∏–∫–æ–≤ –∏ –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.</p>
          <div class="pointing-sat-list" id="pointingSatList"></div>
        </article>
        <article class="pointing-card glass">
          <details id="pointingObserverDetails" class="pointing-observer">
            <summary class="pointing-observer-summary">
              <span class="title">–ü–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è</span>
              <span class="value" id="pointingObserverLabel">‚Äî</span>
            </summary>
            <div class="pointing-observer-body">
              <p class="small muted">–£–∫–∞–∂–∏—Ç–µ –∫–≤–∞–¥—Ä–∞—Ç MGRS (100‚ÄØ–∫–º) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã—Å–æ—Ç—É. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–µ–∫—Ç–æ—Ä 43U CR.</p>
              <div class="pointing-observer-grid">
                <label>MGRS 100‚ÄØ–∫–º
                  <input id="pointingMgrsInput" type="text" maxlength="8" placeholder="43U CR" />
                </label>
                <label>–í—ã—Å–æ—Ç–∞ (–º)
                  <input id="pointingManualAlt" type="number" step="1" min="-500" max="9000" placeholder="0" />
                </label>
              </div>
              <div class="pointing-observer-meta">
                <div><span class="label">–®–∏—Ä–æ—Ç–∞</span><strong id="pointingLat">‚Äî</strong></div>
                <div><span class="label">–î–æ–ª–≥–æ—Ç–∞</span><strong id="pointingLon">‚Äî</strong></div>
                <div><span class="label">–í—ã—Å–æ—Ç–∞</span><strong id="pointingAlt">‚Äî</strong></div>
              </div>
              <button id="pointingMgrsApply" class="btn ghost">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            </div>
          </details>
        </article>
      </div>
    </section>


    <!-- –í–∫–ª–∞–¥–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <section id="tab-settings" class="tab" hidden>
      <h2>Settings</h2>
      <form id="settingsForm" class="settings-form">
        <section class="settings-section">
          <h3>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</h3>
          <div class="settings-group">
            <label>Endpoint (HTTP)
              <input type="url" id="endpoint" inputmode="url" placeholder="http://192.168.4.1" autocomplete="url" spellcheck="false" autocapitalize="none" />
              <div class="field-hint">–ê–¥—Ä–µ—Å HTTP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–∞–¥–∏–æ–º–æ–¥—É–ª—è. –ó–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.</div>
            </label>
          </div>
        </section>
        <section class="settings-section">
          <h3>–ö–∞–Ω–∞–ª</h3>
          <div class="settings-group two">
            <label>Bank
              <select id="BANK">
                <option value="e">EAST</option>
                <option value="w">WEST</option>
                <option value="t">TEST</option>
                <option value="a">ALL</option>
                <option value="h">HOME</option>
              </select>
            </label>
            <label>Channel
              <select id="CH"></select>
              <div id="channelSelectHint" class="field-hint"></div>
            </label>
          </div>
          <div class="settings-group two">
            <label>BW (kHz)
              <select id="BF">
                <option value="7.81">7.81</option>
                <option value="10.42">10.42</option>
                <option value="15.63">15.63</option>
                <option value="20.83" selected>20.83</option>
                <option value="31.25">31.25</option>
              </select>
            </label>
            <label>SF
              <select id="SF">
                <option>7</option><option>8</option><option>9</option><option>10</option><option>11</option><option>12</option>
              </select>
            </label>
            <label>CR
              <select id="CR">
                <option value="5">4/5</option>
                <option value="6">4/6</option>
                <option value="7">4/7</option>
                <option value="8">4/8</option>
              </select>
            </label>
            <label>Power
              <select id="PW">
                <option value="-5">-5 dBm</option><option value="-2">-2 dBm</option><option value="1">1 dBm</option><option value="4">4 dBm</option>
                <option value="7">7 dBm</option><option value="10">10 dBm</option><option value="13">13 dBm</option><option value="16">16 dBm</option>
                <option value="19">19 dBm</option><option value="22">22 dBm</option>
              </select>
            </label>
          </div>
          <div class="settings-toggle" id="rxBoostedGainControl">
            <label class="chip switch">
              <input type="checkbox" id="RXBG" />
              <span>RX boosted gain</span>
            </label>
            <div id="rxBoostedGainHint" class="field-hint">–°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ.</div>
          </div>
        </section>
        <section class="settings-section">
          <h3>ACK –∏ –∑–∞–¥–µ—Ä–∂–∫–∏</h3>
          <div class="settings-group">
            <div class="settings-toggle" id="ackSettingControl">
              <label class="chip switch">
                <input type="checkbox" id="ACK" />
                <span>ACK (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)</span>
              </label>
              <div id="ackSettingHint" class="field-hint">–°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ.</div>
            </div>
            <div class="settings-group two">
              <label>ACK –ø–æ–≤—Ç–æ—Ä—ã
                <input id="ACKR" type="number" min="0" max="10" value="3" />
                <div id="ackRetryHint" class="field-hint">–î–æ—Å—Ç—É–ø–Ω–æ –ø–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è ACK.</div>
              </label>
              <label>ACK —Ç–∞–π–º-–∞—É—Ç (–º—Å)
                <input id="ACKT" type="number" min="0" max="60000" value="320" />
                <div id="ackTimeoutHint" class="field-hint">–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è ACK –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ.</div>
              </label>
              <label>ACK –∑–∞–¥–µ—Ä–∂–∫–∞ (–º—Å)
                <input id="ACKD" type="number" min="0" max="5000" value="20" />
                <div id="ackDelayHint" class="field-hint">–ó–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ ACK –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞.</div>
              </label>
            </div>
            <label>–ü–∞—É–∑–∞ –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏ (–º—Å)
              <input id="PAUSE" type="number" min="0" max="60000" value="370" />
              <div id="pauseHint" class="field-hint">–ü–∞—É–∑–∞ –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞.</div>
            </label>
          </div>
        </section>
        <section class="settings-section">
          <h3>–†–µ–∂–∏–º –ø–µ—Ä–µ–¥–∞—á–∏</h3>
          <div class="settings-group">
            <div class="settings-toggle" id="lightPackControl">
              <label class="chip switch">
                <input type="checkbox" id="LIGHTPACK" />
                <span>Light pack ‚Äî –ø—Ä—è–º–æ–π —Ç–µ–∫—Å—Ç</span>
              </label>
              <div id="lightPackHint" class="field-hint">–°–æ–æ–±—â–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –±–µ–∑ —Å–ª—É–∂–µ–±–Ω–æ–≥–æ –ø—Ä–µ—Ñ–∏–∫—Å–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å.</div>
            </div>
          </div>
        </section>
        <section class="settings-section">
          <h3>–¢–µ—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</h3>
          <div class="settings-group">
            <label>–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è TESTRXM
              <input id="TESTRXMMSG" type="text" maxlength="2048" placeholder="Lorem ipsum dolor sit amet" />
              <div id="testRxmMessageHint" class="field-hint">–ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω Lorem ipsum.</div>
            </label>
          </div>
          <div class="settings-toggle" id="testModeControl">
            <label class="chip switch">
              <input type="checkbox" id="TESTMODE" />
              <span>–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º TX/RX (SendMsg_BR/received_msg)</span>
            </label>
            <div id="testModeHint" class="field-hint">–°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ.</div>
          </div>
        </section>
        <div class="settings-actions actions">
          <button type="button" id="btnSaveSettings" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <button type="button" id="btnApplySettings" class="btn btn-primary">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
          <button type="button" id="btnExportSettings" class="btn">–≠–∫—Å–ø–æ—Ä—Ç</button>
          <button type="button" id="btnImportSettings" class="btn">–ò–º–ø–æ—Ä—Ç</button>
          <button type="button" id="btnClearCache" class="btn danger">–û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
        <button type="button" id="INFO" class="btn" data-cmd="INFO">INFO</button>
        <section class="settings-section">
          <h3>–¢–µ–º–∞</h3>
          <div class="settings-group">
            <div class="settings-toggle" id="autoNightControl">
              <label class="chip switch">
                <input type="checkbox" id="autoNightMode" />
                <span>–ê–≤—Ç–æ –Ω–æ—á–Ω–æ–π —Ä–µ–∂–∏–º</span>
              </label>
              <div id="autoNightHint" class="field-hint">–ù–æ—á–Ω–∞—è —Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å 21:00 –¥–æ 07:00.</div>
            </div>
          </div>
        </section>
      </form>
    </section>
    <!-- –í–∫–ª–∞–¥–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
    <section id="tab-security" class="tab" hidden>
      <h2>Security</h2>
      <div class="key-info">
        <div>–°–æ—Å—Ç–æ—è–Ω–∏–µ: <span id="keyState">‚Äî</span></div>
        <div class="small muted">ID: <span id="keyId"></span></div>
        <div id="keyPublic" class="mono small muted"></div>
        <div id="keyPeer" class="mono small muted" hidden></div>
        <div id="keyBackup" class="small muted"></div>
      </div>
      <div class="key-status-row">
        <div id="keyStatusKey" class="key-status-chip" data-state="unknown">
          <span class="label">–ö–ª—é—á</span>
          <span id="keyStatusKeyText">‚Äî</span>
        </div>
        <div id="keyStatusStorage" class="key-status-chip" data-state="unknown">
          <span class="label">–•—Ä–∞–Ω–∏–ª–∏—â–µ</span>
          <span id="keyStatusStorageText">‚Äî</span>
        </div>
        <div id="keyStatusSafeMode" class="key-status-chip" data-state="unknown">
          <span class="label">Safe mode</span>
          <span id="keyStatusSafeModeText">‚Äî</span>
        </div>
      </div>
      <div id="keyStatusDetails" class="small muted"></div>
      <div class="actions">
        <button id="btnKeyGen" class="btn">KEYGEN</button>
        <button id="btnKeyGenPeer" class="btn" disabled>KEYGEN PEER</button>
        <button id="btnKeyRestore" class="btn">KEY RESTORE</button>
        <button id="btnKeySend" class="btn">KEYTRANSFER SEND</button>
        <button id="btnKeyRecv" class="btn">KEYTRANSFER RECEIVE</button>
      </div>
      <div id="keyMessage" class="small muted"></div>
      <div id="encTest" class="enc-test" data-status="idle">
        <div class="enc-test-header">
          <div class="enc-test-title">ENCT ¬∑ —Ç–µ—Å—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è</div>
          <div id="encTestStatus" class="small muted">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>
          <button id="btnEncTestRun" class="btn ghost small" data-cmd="ENCT">ENCT</button>
        </div>
        <div class="enc-test-grid">
          <div class="enc-test-field">
            <div class="field-label">–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
            <pre id="encTestPlain" class="codeblock small">‚Äî</pre>
          </div>
          <div class="enc-test-field">
            <div class="field-label">–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞</div>
            <pre id="encTestDecoded" class="codeblock small">‚Äî</pre>
          </div>
          <div class="enc-test-field">
            <div class="field-label">–®–∏—Ñ—Ä—Ç–µ–∫—Å—Ç (hex)</div>
            <pre id="encTestCipher" class="codeblock small mono">‚Äî</pre>
          </div>
          <div class="enc-test-field">
            <div class="field-label">Tag (hex)</div>
            <pre id="encTestTag" class="codeblock small mono">‚Äî</pre>
          </div>
          <div class="enc-test-field">
            <div class="field-label">Nonce</div>
            <pre id="encTestNonce" class="codeblock small mono">‚Äî</pre>
          </div>
        </div>
        <div class="small muted">–ù–∞–∂–º–∏—Ç–µ ENCT, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–∞.</div>
      </div>
    </section>
    <!-- –í–∫–ª–∞–¥–∫–∞ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –ª–æ–≥–æ–≤ -->
    <section id="tab-debug" class="tab" hidden>
      <h2>Debug</h2>
      <div id="recvDiag" class="debug-metrics">
        <div class="debug-metrics__header">
          <h3>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–ø—Ä–æ—Å–∞ RSTS</h3>
          <span id="recvDiagStatus" class="debug-metrics__status">–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞</span>
          <div id="recvDiagMode" class="debug-metrics__mode small muted">Push-–∫–∞–Ω–∞–ª –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω</div>
        </div>
        <p class="small muted">–î–ª—è push-–ø–æ–¥–ø–∏—Å–∫–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–æ–≤–∞—è –ø—Ä–æ—à–∏–≤–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SSE. –ï—Å–ª–∏ –∫–∞–Ω–∞–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ–∂–Ω–∏–π –æ–ø—Ä–æ—Å –∫–æ–º–∞–Ω–¥–æ–π RSTS.</p>
        <div class="debug-metrics-grid">
          <div class="debug-metrics-item">
            <span class="debug-metrics-item__label">–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–ø—Ä–æ—Å–∞</span>
            <span id="recvDiagInterval" class="debug-metrics-item__value">‚Äî</span>
          </div>
          <div class="debug-metrics-item">
            <span class="debug-metrics-item__label">–ü–æ—Å–ª–µ–¥–Ω–∏–π —Å—Ç–∞—Ä—Ç</span>
            <span id="recvDiagLastStart" class="debug-metrics-item__value">‚Äî</span>
          </div>
          <div class="debug-metrics-item">
            <span class="debug-metrics-item__label">–ü–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–≤–µ—Ç</span>
            <span id="recvDiagLastFinish" class="debug-metrics-item__value">‚Äî</span>
          </div>
          <div class="debug-metrics-item">
            <span class="debug-metrics-item__label">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞</span>
            <span id="recvDiagDuration" class="debug-metrics-item__value">‚Äî</span>
          </div>
          <div class="debug-metrics-item">
            <span class="debug-metrics-item__label">–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</span>
            <span id="recvDiagAvg" class="debug-metrics-item__value">‚Äî</span>
          </div>
          <div class="debug-metrics-item">
            <span class="debug-metrics-item__label">–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª</span>
            <span id="recvDiagGap" class="debug-metrics-item__value">‚Äî</span>
          </div>
          <div class="debug-metrics-item">
            <span class="debug-metrics-item__label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ/—É—Å–ø–µ—Ö–∏/–æ—à–∏–±–∫–∏</span>
            <span id="recvDiagTotals" class="debug-metrics-item__value">0 / 0 ‚úì / 0 ‚úó</span>
          </div>
          <div class="debug-metrics-item">
            <span class="debug-metrics-item__label">–¢–∞–π–º–∞—É—Ç—ã</span>
            <span id="recvDiagTimeouts" class="debug-metrics-item__value">0</span>
          </div>
          <div class="debug-metrics-item">
            <span class="debug-metrics-item__label">–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏</span>
            <span id="recvDiagOverlaps" class="debug-metrics-item__value">0</span>
          </div>
        </div>
        <div class="debug-metrics-foot">
          <div id="recvDiagLastError" class="debug-metrics-foot__entry" hidden>–û—à–∏–±–æ–∫ –Ω–µ—Ç</div>
          <div id="recvDiagBlocked" class="debug-metrics-foot__entry" hidden>–ë–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –Ω–µ –±—ã–ª–æ</div>
        </div>
      </div>
      <div class="actions debug-actions">
        <button id="btnRstsFull" class="btn">RSTS FULL</button>
        <button id="btnRstsJson" class="btn ghost">RSTS JSON</button>
        <button id="btnRstsDownloadJson" class="btn ghost">–°–∫–∞—á–∞—Ç—å RSTS FULL JSON</button>
      </div>
      <div id="debugLog" class="debug-log"></div>
    </section>
  </main>
  <footer class="site-footer">
    <div id="statusLine" class="small muted"></div>
    <div class="footer-meta" id="footerMeta">Powered by AS Systems ¬∑ <span id="appVersion">‚Äî</span></div>
  </footer>
  <div id="toast" class="toast" hidden></div>
  <script src="libs/geostat_tle.js"></script>
  <script src="libs/sha256.js"></script>
  <script src="libs/mgrs.js"></script>
  <script src="script.js"></script>
</body>
</html>

